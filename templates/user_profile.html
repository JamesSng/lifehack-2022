{% extends "base.html" %}
{% block title %} Profile - {{profileinfo.username}} {% endblock %} <!-- Title goes here -->
{% block head %} {{ super() }} {% endblock %}

{% block content %}
<div class="container-fluid row p-4">
	<div class="col-4 p-4">
		<div class="row mb-3">
			<div class="card shadow-sm p-0">
				<h4 class="card-header p-3"> {{profileinfo.username}}'s profile </h4>

				<div class="card-body"><table class="table table-borderless table-sm">
					<tbody>
					<tr>
						<th scope="row"> Name </th>
						<td> {{profileinfo.fullname}} </td>
					</tr><tr>
						<th scope="row"> Username </th>
						<td> {{profileinfo.username}} </td>
					</tr><tr>                                    
						<th scope="row"> Phone Number (Private) </th>
						<td> {{profileinfo.phone}} </td></tr><tr>
						<th scope="row"> Date of Birth (Private) </th>
						<td> {{profileinfo.birthdate}} </td></tr><tr>
						<th scope="row"> Residential Location (Private) </th>
						<td> {{profileinfo.location}} </td></tr></tbody></table>
				</div>
			</div>
		</div>

		<div class="row">
			<h4>Friends</h4>
		</div>
	</div>

	<div class="col p-4">
		<div class="row mb-3">
			<div class="col-4">
				<h4>Volunteering Interests</h4>
				<div>
					<canvas id="radar-chart" style="width:100%; height:auto;"> </canvas>
					<script>
						const data = {
							labels: [
								'tag1', 'tag2', 'tag3', 'tag4', 'tag5'
							],
							datasets: [{
								label: '{{profileinfo.username}}\'s Interests',
								data: [65, 59, 90, 81, 56],
								fill: true,
								backgroundColor: 'rgba(255, 99, 132, 0.2)',
								borderColor: 'rgb(255, 99, 132)',
								pointBackgroundColor: 'rgb(255, 99, 132)',
								pointBorderColor: '#fff',
								pointHoverBackgroundColor: '#fff',
								pointHoverBorderColor: 'rgb(255, 99, 132)'
							}]
						};
						const config = {
							type: 'radar',
							data: data,
							options: {
								elements: {
									line: {
										borderWidth: 3
									}
								}
							},
						};
						
						window.onload = function() {
							var radarChart = new Chart(document.getElementById("radar-chart"), config);
						}
					</script>
				</div>
			</div>

			<div class="col">
				<h4>Volunteer Hours</h4>
				<div id="calendarChart" style="width:100%;height:auto;"></div>
				<script>
					var chart = JSC.chart('calendarChart', { 
						debug: true, 
						type: 'horizontal calendar year solid', 
						data: './resources/CarSales_2017.csv',
						title_label_text: 'Hours of Volunteering Per Day', 
						defaultSeries_legendEntry_value: 'Total: %zSum', 
						defaultPoint: { 
							tooltip: 
							'<b>{%date:date D}</b><br> %zValue hours'
						}, 
						palette: {
							defaultRange_legendEntry_value: 
								'{%min:n3} - {%max:n3}', 
							ranges: [ 
								{ value: [0, 0], color: 'rgb(218,0,90)' }, 
								{ value: [0.1, 2], color: 'rgb(218,12,90)' }, 
								{ value: [2.1, 4], color: 'rgb(218,24,90)' }, 
								{ value: [4.1, 6], color: 'rgb(218,36,90)' }, 
								{ value: [6.1, 8], color: 'rgb(218,48,90)' }, 
								{ value: [8.1, 10], color: 'rgb(218,60,90)' }, 
								{ value: [10.1, 12], color: 'rgb(218,72,90)' }, 
								{ value: [12.1, 14], color: 'rgb(218,84,90)' }, 
								{ value: [14.1, 24], color: 'rgb(218,96,90)' }, 
							] 
						}, 
						toolbar_visible: false
					}); 
				</script>
			</div>
		</div>
		<div class="row">
			<h4>Volunteering History</h4>
		</div>
	</div>
</div>
{% endblock %}
